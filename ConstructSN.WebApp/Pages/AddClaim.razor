
<PageTitle>@(Description + " | " + Title + " | Reclamos Casas Prefabridas")</PageTitle>

<HeadContent>
    <meta name="description" content="@Description">
</HeadContent>


<h1>@Title</h1>
<hr />
    <EditForm Model="@claimsForm" OnValidSubmit="SaveUser" >
    <DataAnnotationsValidator />
    <div class="mb-3">
            <label for="NameCompany" class="form-label">Nombre empresa (o maestro)</label>
        <div class="col-md-4">
            <InputText class="form-control" @bind-Value="claimsForm.NameCompany" />
        </div>
        <ValidationMessage For="@(() => claimsForm.NameCompany)" />
    </div>
    <div class="mb-3">
            <label for="RUT" class="form-label">RUT (empresa o maestro proveedor)</label>
        <div class="col-md-4">
            <InputText class="form-control" @bind-Value="claimsForm.RUT" />
        </div>
        <ValidationMessage For="@(() => claimsForm.RUT)" />
    </div>
    <div class="mb-3">
            <label for="DateCommitment" class="form-label">Fecha de contrato o acuerdo</label>
        <div class="col-md-4">
            <InputDate class="form-control" @bind-Value="claimsForm.DateCommitment" />
        </div>
        <ValidationMessage For="@(() => claimsForm.DateCommitment)" />
    </div>
    <div class="mb-3">
            <label for="ProblemDescription" class="form-label">Descripción del reclamo</label>
        <div class="col-md-4">
            <InputTextArea class="form-control" @bind-Value="claimsForm.ProblemDescription" rows="12" />
        </div>
        <ValidationMessage For="@(() => claimsForm.ProblemDescription)" />
    </div>
    <div class="mb-3">
        <label class="form-label">Subir imagenes</label>
        <div class="col-md-4">
            <InputFile OnChange="@LoadFiles" multiple class="form-control" accept=".jpg,.jpeg,.png" />
            @*<ValidationMessage For="() => person.Picture" />*@

            @{
                var progressCss = "progreso " + (displayProgress ? "" : "d-none");
                var progressWidthStyle = progressPercent + "%";
            }

            <div class="@progressCss">
                <div class="progress-bar" role="progressbar" style="width:@progressWidthStyle" area-valuenow="@progressPercent" aria-minvalue="0" aria-maxvalue="100"></div>
            </div>


        </div>
    </div>


        

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Enviar</button>
        <button class="btn btn-secondary" @onclick="Cancel">Cancelar</button>
    </div>
</EditForm>

@if (imageDataUrls.Count > 0)
{
    <h4>Imágenes</h4>

    <div class="card" style="width:30rem;">
        <div class="card-body">
            @foreach (var imageDataUrl in imageDataUrls)
            {
                <p><img class="rounded m-1" src="@imageDataUrl" /></p>
            }
        </div>
    </div>
}